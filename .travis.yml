language: java
install: true

os: linux
dist: trusty
jdk: openjdk11

secure:
  - "q17HJvX7mJ66ruT2OXGzDizV886gkqZT+5lQ6ofCD3jHqREfRe5JkuMb6iJIS7FDwJrnSTn1ob4igbkuVpGueXXURBfKWtxvnBv10YNiOVsiqcCueSMptB5spvy9bRFf5IgBDRzIt7yMDxHzujSpQ54PU0OO1SBuUqFWOETXs62FnznpEixzTSrErKm/j9E5EozHnUCDmVRMq1OAb3xCCX5uOzp7jKmd+gW3bVvSwKWX3emIRlMDJrcBxLP/Omw60CM5rvtH4B03NeVFfI3M/hl0tAI/uMQ6nMjmXl5oV9aJydjiVXw5v4PyXJVyIya8N0ijssM7BXqMt/wa43fqTiTZOH0YSD8gPZehwRvsk0AJzEiEY8Qp6JS45/Gu5/LaM8wMazfAF/mcIXPecgEZYNOTsZNWAp5KfPUvqiGg0oTR7681XpN1/NiXoLKx5ZgfmeyHXvpqV9daMwT6IAWpuM38So2OwG8Z/92y0jMTDWNrhhAUYeyaUfR6bvmrEFShePLrTC3JKgsz0WgVtKJJMpQU6LVRkLRjRO0fcf3i/lnNm0UTEjt3Td8NwoeooLsusVjbPo9ZL0YRpnmIlWr6XQ3qEs4yqo1zG8mREcaCJytKzxUqrNPmjettiGyNJ91xNxiTE1Cne2BYZOG57/QFoI39W+Nsr2yx6WVR7pLT5nY="

git:
  depth: 10
  quiet: true

addons:
  sonarcloud:
    organization: "cbartram-github"
    token:
      secure: "q17HJvX7mJ66ruT2OXGzDizV886gkqZT+5lQ6ofCD3jHqREfRe5JkuMb6iJIS7FDwJrnSTn1ob4igbkuVpGueXXURBfKWtxvnBv10YNiOVsiqcCueSMptB5spvy9bRFf5IgBDRzIt7yMDxHzujSpQ54PU0OO1SBuUqFWOETXs62FnznpEixzTSrErKm/j9E5EozHnUCDmVRMq1OAb3xCCX5uOzp7jKmd+gW3bVvSwKWX3emIRlMDJrcBxLP/Omw60CM5rvtH4B03NeVFfI3M/hl0tAI/uMQ6nMjmXl5oV9aJydjiVXw5v4PyXJVyIya8N0ijssM7BXqMt/wa43fqTiTZOH0YSD8gPZehwRvsk0AJzEiEY8Qp6JS45/Gu5/LaM8wMazfAF/mcIXPecgEZYNOTsZNWAp5KfPUvqiGg0oTR7681XpN1/NiXoLKx5ZgfmeyHXvpqV9daMwT6IAWpuM38So2OwG8Z/92y0jMTDWNrhhAUYeyaUfR6bvmrEFShePLrTC3JKgsz0WgVtKJJMpQU6LVRkLRjRO0fcf3i/lnNm0UTEjt3Td8NwoeooLsusVjbPo9ZL0YRpnmIlWr6XQ3qEs4yqo1zG8mREcaCJytKzxUqrNPmjettiGyNJ91xNxiTE1Cne2BYZOG57/QFoI39W+Nsr2yx6WVR7pLT5nY="

script:
  - ./gradlew build --scan -s
  - ./gradlew sonarqube

before_cache:
  - rm -f  $HOME/.gradle/caches/modules-2/modules-2.lock
  - rm -fr $HOME/.gradle/caches/*/plugin-resolution/

cache:
  directories:
    - $HOME/.gradle/caches/
    - $HOME/.gradle/wrapper/

notifications:
  email: false